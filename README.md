# ⚡ 中六打氣日 - 電流急急棒 (DSE Cheering Wire Loop Game)

這是一個結合實體 Micro:bit 與網頁端即時互動的電流急急棒遊戲。專為 DSE 打氣日設計，包含「競技模式」與「DIY 體驗模式」，並具備即時計時、自動罰分及電子龍虎榜功能。

## 🛠️ 硬體準備與接線

請依照以下方式連接 Micro:bit 與電流急急棒裝置：

* **Micro:bit**: 通過 USB 線連接至電腦。
* **GND (接地)** ➡ 連接到 **玩家手持的金屬棒/手柄**。
* **P1 引腳** ➡ 連接到 **起點** 金屬片（用於觸發準備/開始）。
* **P0 引腳** ➡ 連接到 **中間蜿蜒的鐵絲/導電軌道**（用於觸發罰時/失誤）。
* **P2 引腳** ➡ 連接到 **終點** 金屬片（用於觸發通關）。

> **⚠️ 注意**：請確保線路接觸良好，且金屬部分導電正常。

---

## 💻 軟體安裝

### 1. Micro:bit 端
1.  打開 [Microsoft MakeCode](https://makecode.microbit.org/)。
2.  切換到 `JavaScript` 模式。
3.  將 **最終版 Micro:bit 代碼** 複製並貼上。
4.  點擊「下載」，將 `.hex` 文件傳輸到 Micro:bit 中。
5.  完成後 Micro:bit 應顯示笑臉 🙂。

### 2. 電腦/網頁端
1.  在電腦上建立一個新資料夾（例如 `DSE_Game`）。
2.  將網頁代碼存檔為 `index.html` 並放入該資料夾。
3.  **(選用)** 準備音效檔案放入同目錄（若無檔案，系統會使用內建蜂鳴聲）：
    * `start.mp3` (開始)
    * `fail.mp3` (失誤/罰時)
    * `win.mp3` (勝利)
    * `bgm.mp3` (背景音樂)
4.  使用 **Google Chrome** 或 **Microsoft Edge** 瀏覽器打開 `index.html`。

---

## 🎮 遊戲操作流程 (攤位負責人指南)

### 第一步：啟動與連接
1.  打開網頁。
2.  點擊畫面上的 **「🔗 連接 Micro:bit」** 按鈕。
3.  在彈出的視窗中選擇您的 Micro:bit 設備並點擊「連接」。
4.  若連接成功，狀態欄會變綠並顯示「Micro:bit 已連接」。

### 第二步：選擇模式
* **🏆 比賽模式**：
    * 適用於競賽。
    * 碰到鐵絲會 **罰時 (+3秒)**。
    * 通關後可輸入名字，成績計入 **龍虎榜**。
* **🛠️ DIY 模式**：
    * 適用於休閒體驗。
    * 碰到鐵絲 **僅記錄次數**，不罰時間。
    * 通關後不記錄排名，僅顯示成績。

### 第三步：遊玩過程
1.  **就位**：請玩家將金屬棒碰觸 **起點 (P1)**。
    * 網頁顯示：「⚠️ 準備就緒」。
2.  **開始**：玩家金屬棒 **離開起點**。
    * 遊戲開始計時，背景音樂響起。
3.  **過程**：
    * 若碰到鐵絲 (P0)：發出警告音，畫面閃紅，罰時/次數增加。
    * *注意：程式設有 0.5 秒冷卻時間，避免瞬間連續誤判。*
4.  **通關**：玩家碰觸 **終點 (P2)**。
    * 計時停止，顯示最終成績。

### 第四步：結算與重置
* **比賽模式**：協助同學輸入名字，點擊「提交成績」上榜。
* **重置遊戲**：下一位同學開始前，請確認畫面已重置。
    * *方法 A*：上一位提交成績/關閉彈窗後自動重置。
    * *方法 B*：點擊網頁上的 **「🔄 重置遊戲」**。
    * *方法 C*：按下 Micro:bit 上的 **A 按鈕** (強制重置)。

---

## 📊 龍虎榜管理
* **查看排名**：榜單位於網頁右下方，實時顯示前 10 名。
* **刪除單條**：點擊該條成績右側的垃圾桶圖示 🗑️ 即可刪除（用於誤輸入）。
* **清除所有**：點擊榜單下方的「清除所有紀錄」可清空整個榜單（慎用）。
* *備註：數據保存在瀏覽器 LocalStorage 中，關閉分頁後重開數據依然存在。*

---

## ❓ 常見問題排除 (Troubleshooting)

| 問題狀況 | 可能原因 | 解決方法 |
| :--- | :--- | :--- |
| **點擊連接沒反應** | 瀏覽器不支援 | 請務必使用 **Chrome** 或 **Edge**。 |
| **找不到設備** | USB 接觸不良 | 重新拔插 USB 線，確認 Micro:bit 有過電。 |
| **碰起點沒反應** | 接地 (GND) 斷路 | 檢查手柄的鱷魚夾是否鬆脫。 |
| **碰到鐵絲沒罰分** | 接觸時間太短 | 程式設有 0.5秒 冷卻時間，避免一次接觸算多次。 |
| **一直顯示準備中** | P1 與 GND 短路 | 檢查起點金屬片是否卡住或持續導通。 |
| **沒有聲音** | 瀏覽器權限/無檔案 | 點擊一下網頁任意處以啟用音效權限；或檢查喇叭音量。 |

---
**祝中六打氣日活動順利！ DSE Fighting! 💪**